<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>自動獲取Magnet鏈接</title>
</head>
<body>

<div class="container">
    <h2>自動獲取Magnet鏈接</h2>
    <div>
        <button onclick="getMagnetLink()">獲取Magnet鏈接</button>
    </div>
    <div id="magnetLink"></div>
</div>

<script>
    function getMagnetLink() {
        var url = "https://sukebei.nyaa.si/view/4152421";

        fetch(url)
            .then(response => response.text())
            .then(data => {
                var tempElement = document.createElement('div');
                tempElement.innerHTML = data;

                var magnetLinkElement = tempElement.querySelector('.view-torrent-link a[href^="magnet:?"]');
                
                if (magnetLinkElement) {
                    var magnetLink = magnetLinkElement.getAttribute('href');
                    document.getElementById('magnetLink').innerHTML = '<a href="' + magnetLink + '" target="_blank">Magnet 鏈接</a>';
                } else {
                    document.getElementById('magnetLink').innerHTML = '未找到 Magnet 鏈接';
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('magnetLink').innerHTML = '發生錯誤，無法獲取 Magnet 鏈接';
            });
    }
</script>

</body>
</html>
